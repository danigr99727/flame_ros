<!-- Launch file for running Flame from a dataset of images. -->
<launch>
  <arg name="load_params" default="true" />
      <arg name="cam_name" default="camera/rgb" />
  <arg name="param_file" default="flame_offline_tum.yaml" />

  <arg name="bag_data" default="false" />

  <!-- frames -->
  <include file="$(find flame_ros)/launch/frames.launch" />

  <!-- Launch the node. -->
  <node pkg="flame_ros" type="flame_offline_tum"
        name="flame_ros"
        output="screen">
    <rosparam command="load" if="$(arg load_params)"
              file="$(find flame_ros)/cfg/$(arg param_file)"/>
          <remap from="/camera/rgb/image_rect_color" to="/$(arg cam_name)/image_raw" />
  </node>

      <node name="rvizfiestavisualisation" pkg="rviz" type="rviz" output="log" args="-d $(find my_pipeline)/cfg/flame.rviz" />

 <node pkg="image_proc" type="image_proc" name="creative_image_proc"
        ns="$(arg cam_name)" >
  </node>

    <node pkg="rosbag" type="record" name="rosbag_record_cam"
           args="record -o /$(arg cam_name)/image_raw /$(arg cam_name)/image_rect
           /$(arg cam_name)/camera_info
           /transform_rgb_frame
-O TUM_recording.bag"

        />


</launch>
